## 初始化清理

### 1、用构造器确保初始化

​	Java采用的方案：构造器采用于类名相同的名称。

​	请注意，由于构造器的名称必须与类名完全相同，所以“每个方法的首字母小写”的编码风格并不适用于构造器。

​	不接受任何参数的构造器叫做默认构造器（无参构造器）。

​	在Java中，“初始化”和“创建”捆绑在一起，两者不能分离。

### 2、方法重载

#### 2.1、区分方法

​	每个重载的方法必须有一个独一无二的参数类型列表。

​	甚至参数顺序不同也足够区分两个方法。不过，一般情况下别这么做，因为这会使代码难以维护。	

* 以返回值来区分重载方法是行不通的。	

### 3、默认构造器

​	默认构造器（又名“无参”构造器）是没有形式参数的——它的作用是创建一个“默认对象”。如果你写的类中没有构造器，则编译器会自动帮你创建一个默认构造器。但是，如果已经定义了一个构造器（无论是否有参数），编译器就不会帮你自动创建默认构造器。

### 4、this关键字

```java
Class Banana { 
    void peel(int i) {}
}

public class BananaPeel {
    public static void main(String[] args) {
        Banana a = new Banana();
      	Banana b = new Banana();
        a.peel(1);
        b.peel(2);
    }
}
```

​	如果只有一个peel（）方法，它如何知道是被a还是被b所调用呢？

​	其实编译器暗自把“所操作对象的引用”作为第一个参数传递给peel（）。所以上述的两个方法就变成这样：

```java
Banana.peel(a, 1);
Banana.peel(b, 2);
```

​	this方法只能在方法内部使用，表示对”调用方法的那对象”的引用。但如果在方法内部调用同一个类的另一个方法，就不必使用this，直接调用即可。

​	有些人执意将this放在每一个方法和字段调用前，认为这样“更清楚更明确”。但是，千万别这么做。我使用高级语言的原因之一就是它们能帮我们做一些事情。要是你把this放在一些没必要的地方，就会使读你程序的人不知所措，因为别人写的代码不会到处使用this。人们期望只在必要的处使用this。遵循一种一致而直观的编程风格能节省时间和金钱。

#### 4.1、在构造器中调用构造器

​	可以用this调用一个构造器，却不能调用两个，此外，还必须将构造器调用，置于最起始处，否则编译器会报错。

​	由于参数s的名称与数据成员s的名字相同，所以产生歧义。使用this.s来代表数据成员就能解决这个问题。

#### 4.2、static的含义

​	static方法就是没有this的方法。在static方法的内部不能调用非静态的方法，反过来倒是可以的。而且可以在没有创建任何对象的前提下，仅仅通过类本身来调用static方法。这实际上正是static方法的主要用途。它很像全局方法。Java中禁止使用全局方法，但你在类中置入static方法就可以直接访问其他static方法和static域。

### 5、清理：终结处理和垃圾回收

​	Java允许在类中定义的一个名为finalize（）的方法。它的工作原理“假定”是这样：一旦垃圾回收器准备好释放对象占用的存储空间，将首先调用器finalize（）方法，并且在下一次垃圾回收动作发生时，才会真正回收对象占用的内存。所以要是你打算用finalize（），就能在垃圾回收时刻做一些重要的清理工作。

1. 对象可能不被垃圾回收。
2. 垃圾回收并不等于“析构”。
3. 垃圾回收只与内存有关。

### 6、成员初始化

​	要对局部变量进行初始化。成员变量有默认值0,null。

### 7、构造器初始化

​	可以用构造器进行初始化。在运行时刻，可以调用方法或执行某些动作来确定初值，这为编程带来的更大的灵活性。但要牢记：无法阻止自动初始化的进行，它将在构造器被调用前发生。

#### 7.1、初始化顺序

​	在类的内部，变量定义的先后顺序决定了初始化的顺序。即使变量定义时散布于方法定义之间，它们仍旧会在任何方法（包括构造器）被调用之前得到初始化。

#### 7.2、静态数据的初始化

​	无论创建多少个对象，静态数据都只占用一份存储区域。static关键字不能应用局部变量，因此它只能作用于域。如果一个域是静态的基本类型域，且没有对它进行初始化，那么它就会获取基本类型的标准初值；如果它是一个对象引用，那么它的默认初始化值就是null。 

​	总结一下对出的创建过程，假设有个名为Dog的类：

1. 即使没有显示地使用static关键字，构造器实际上也是静态方法。因此，当首次创建类型为Dog的对象时（构造器可以看成静态方法），或者Dog类的静态方法/静态域首次被访问时，Java解释器必须查找类路径，以定位Dog.class文件。
2. 然后载入Dog.class（后面会学到，这将创建一个Class对象），有关静态初始化的所有动作都会执行。因此，静态初始化只在Class对象首次加载的时候进行一次。
3. 当用new Dog（）创建对象的时候，首先在堆上为Dog对象分配足够的存储空间。
4. 这个存储空间会被清零，这就自动地将Dog对象中的所有基本类型数据都设置成了默认值（对数字来说就是0，对布尔型和字符型也相同），而引用则被设置成了null。
5. 执行所有出现于字段定义处的初始化动作。
6. 执行构造器

#### 7.3、显示的静态初始化

​	Java允许将多个静态初始化动作组织成一个特殊的语句“静态语句”（有时也叫做“静态块”），静态初始化动作只进行一次。

#### 7.4、非静态实例化

​	Java中也有被称为实例初始化的类似语法，用来初始化每一个对象的非静态变量。

​	实例初始化子句是在构造器之前执行的。

### 8、数组初始化

​	如果在编写程序时，并不能确定在数组里需要多个元素，那么该怎么办呢？可以直接用new在数组里创建元素。尽管创建的是基本类型数组，new仍然可以工作（不能用new创建基本数据类型）

### 9、枚举类型

​	